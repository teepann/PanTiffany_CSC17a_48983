/*
 * File: main.cpp
 * Author: Tiffany Pan
 * Date: October 1, 2015
 * Assignment: Problem 9.2
 * Directions:
 */

//System Libraries
#include <iostream>
#include <math.h>
using namespace std;

//User Libraries

//Global Constants
struct Customer {
    char accountNum[];
    float deposit = 0;
    float checks = 0;
};
//Function Prototypes
void Menu();
int getN();
void def(int);
void problem1();
void problem2();
void problem3();
void problem4();
void problem5();
void problem6();

//Execution begins here
int main(int argc, char** argv) {
    //Variable declarations
    int inN;
    do{
        Menu();
        inN=getN();
        switch(inN){
        case 1:    problem1();break;
        case 2:    problem2();break;
        case 3:    problem3();break;
        case 4:    problem4();break;
        case 5:    problem5();break;
        case 6:    problem6();break;
        default:   def(inN);}
    }while(inN>=1&&inN<=6);
    return 0;//If midterm not perfect, return something other than 1
    return 0;
}

/* 
 * Definition of function.
 *
 */
void Menu(){
    cout<<"Menu for the Midterm"<<endl;
    cout<<"Type 1 for problem 1"<<endl;
    cout<<"Type 2 for problem 2"<<endl;
    cout<<"Type 3 for problem 3"<<endl;
    cout<<"Type 4 for problem 4"<<endl;
    cout<<"Type 5 for problem 5"<<endl;
    cout<<"Type 6 for problem 6"<<endl;
    cout<<"Type anything else to exit \n"<<endl;
}

int getN(){
    int inN;
    cin>>inN;
    return inN;
}

void problem1(){
    cout<<"In problem # 1"<<endl<<endl;
}

void problem2(){
    cout<<"In problem # 2"<<endl<<endl;
}

void problem3(){
    cout<<"In problem # 3"<<endl<<endl;
}

/* 
 * Definition of function
 * 4 digit integer, only number 0-7,
 * input dialog: 4 digit int
 * encryption: add 5 to each digit
 * mod by 8
 * swap 1st with 2nd, 3rd with 4th
 * print out int
 * decrypt it
 */
void problem4(){
    cout<<"In problem # 4"<<endl<<endl;
    int encryptedNum;
    int digit;
    int temp;
    int original;
    bool isEncryptable=true; //4 digits and uses only 0-7
    do {
        cout << "Please enter a four digit number that uses digits between 0 and 7 inclusive" << endl;
        cin >> original;        
        temp = original;
        for (int i = 1; i <= 4; i++){
            digit = temp % 10;
            if (digit >= 8){
                isEncryptable = false;
                break;
            }            
            if (i == 4 && temp >= 10)
                isEncryptable = false;
            temp /= 10;
        }
    } while (!isEncryptable);
       
    temp = original;
    int placeValue = 0;
    while(temp > 0){
            digit = temp % 10;
            digit += 5;
            digit %=8;
            if (placeValue == 0)
                encryptedNum += digit*pow(10,1);
            else if (placeValue == 1)
                encryptedNum += digit*pow(10,0);
            else if (placeValue ==2)
                encryptedNum += digit*pow(10,3);
             else if (placeValue ==3)
                encryptedNum += digit*pow(10,2);
            temp /= 10;
            placeValue++;
        }
    cout << original << " is encrypted into: " << encryptedNum << endl;
    decrypt (encryptedNum);
}

void decrypt(int num){
    int encryptedNum = num;
    int decryptedNum;
    int digit;
    int placeValue = 0;
    while(encryptedNum > 0){
            digit = encryptedNum % 10;
            digit -= 5;
            if (digit < 0)
                digit += 8;
            if (placeValue == 0)
                decryptedNum += digit*pow(10,1);
            else if (placeValue == 1)
                decryptedNum += digit*pow(10,0);
            else if (placeValue == 2)
                decryptedNum += digit*pow(10,3);
             else if (placeValue == 3)
                decryptedNum += digit*pow(10,2);
            encryptedNum /= 10;
            placeValue++;
        }
    cout << encryptedNum << " is decrypted into: " << decryptedNum << endl;
}

void problem5(){
    cout<<"In problem # 5"<<endl<<endl;
}

void problem6(){
    cout<<"In problem # 6"<<endl<<endl;
    cout << "2.125 in binary is 10";
}

void def(int inN){
    cout<<"You typed "<<inN<<" to exit the program"<<endl;
}
